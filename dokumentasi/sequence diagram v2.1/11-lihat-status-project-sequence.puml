@startuml

!theme plain
skinparam backgroundColor white
skinparam shadowing false
skinparam handwritten false

' Styling sesuai contoh yang diberikan
skinparam participant {
    BackgroundColor #E3F2FD
    BorderColor #1976D2
    BorderThickness 2
    FontSize 11
}

skinparam arrow {
    Color black
    Thickness 2
}

skinparam sequence {
    ArrowColor black
    ActorBorderColor black
    LifeLineBorderColor black
    ParticipantBorderColor #1976D2
    ParticipantBackgroundColor #E3F2FD
    BoxBorderColor black
}

hide footbox

title **Sequence Diagram - UC11: Lihat Status Project**

participant "Customer" as Customer
participant "ProjectStatusPage" as ProjectPage
participant "CustomerProjectController" as ProjectCtrl
participant "Project Model" as ProjectModel

Customer -> ProjectPage: 1: ViewProjectStatus (project_id)
activate ProjectPage

ProjectPage -> ProjectCtrl: 1.1: show(project_id)
activate ProjectCtrl

ProjectCtrl -> ProjectModel: 1.1.1: find(project_id)
activate ProjectModel

ProjectModel --> ProjectCtrl: 1.1.1.1: projectData()

ProjectCtrl -> ProjectModel: 1.1.1.2: user()
ProjectModel --> ProjectCtrl: 1.1.1.2.1: customerData()

ProjectCtrl -> ProjectModel: 1.1.1.3: getStatusColorAttribute()
ProjectModel --> ProjectCtrl: 1.1.1.3.1: statusColor()

ProjectCtrl -> ProjectModel: 1.1.1.4: getProgressBarColorAttribute()
ProjectModel --> ProjectCtrl: 1.1.1.4.1: progressColor()

alt [Project Has Contract]
    ProjectCtrl -> ProjectModel: 1.1.1.5: contract()
    ProjectModel --> ProjectCtrl: 1.1.1.5.1: contractData()
    ProjectCtrl --> ProjectPage: 1.1.1.5.1.1: showProjectWithContract()
    ProjectPage --> Customer: 1.1.1.5.1.1.1: displayContractOption()
    
else [No Contract Yet]
    ProjectCtrl --> ProjectPage: 1.1.1.6: showProjectWithoutContract()
    ProjectPage --> Customer: 1.1.1.6.1: displayPendingContract()
end

ProjectCtrl -> ProjectModel: 1.1.2: updateCustomerLastViewed()
ProjectModel --> ProjectCtrl: 1.1.2.1: timestampUpdated()

ProjectCtrl --> ProjectPage: 1.1.2.1.1: renderProjectStatus()
ProjectPage --> Customer: 1.1.2.1.1.1: displayProjectStatus()

deactivate ProjectModel
deactivate ProjectCtrl
deactivate ProjectPage

@enduml
